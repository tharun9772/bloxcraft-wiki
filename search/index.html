<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Bloxcraft Wiki Search</title>
<style>
  body {
    font-family: "Segoe UI", Arial, sans-serif;
    background: #fff;
    padding: 40px;
    color: #202122;
    line-height: 1.6;
  }
  
  
.navbar {
  display: flex; 
  justify-content: center; 
  align-items: center;
  background-color: #5555FF;
  padding: 10px 20px;
  width: 100%; 
  box-sizing: border-box;
  
  position: fixed; 
  top: 0; 
  left: 0; 
  right: 0; 
}

.navbar a {
  color: #fff;
  text-decoration: none;
  font-size: 17px;
  padding: 10px 16px;
  transition: background 0.3s;
}

.navbar a:hover {
  background-color: #555599;
}

    .content {
      background-color: #ddd;
      padding: 40px 20px;
      color: #333;
    }

  h1 {
    font-size: 32px;
    font-weight: 500;
    border-bottom: 1px solid #c8ccd1;
    padding-bottom: 10px;
    margin-bottom: 25px;
  }

  .search-box {
    width: 100%;
    max-width: 500px;
    padding: 10px 12px;
    font-size: 18px;
    border: 1px solid #a2a9b1;
    border-radius: 4px;
    margin-bottom: 25px;
  }

  .result {
    padding: 15px 10px;
    border-bottom: 1px solid #eaecf0;
  }

  .result a {
    font-size: 22px;
    font-weight: 600;
    color: #0645ad;
    text-decoration: none;
  }

  .result a:hover {
    text-decoration: underline;
  }

  .description {
    margin-top: 4px;
    color: #54595d;
    font-size: 15px;
  }
</style>
</head>
<body>
<div class="navbar">
    <a href="/">Home</a>
    <a href="/search">Search</a>
    <a href="https://discord.gg/sqPFYEsz8F">Discord Server</a>
    <a href="https://bloxcraft-ubg.pages.dev">Games</a>
  </div>

<h1>Search the Wiki</h1>

<input type="text" id="searchInput" class="search-box" placeholder="Search..." oninput="searchWiki()">

<div id="results"></div>

<script>
  let wikiPages = [];

  fetch("src/wiki-search-config.json")
    .then(res => res.json())
    .then(data => {
      wikiPages = data;
    });

  function searchWiki() {
    const q = document.getElementById("searchInput").value.toLowerCase().trim();
    const resultsDiv = document.getElementById("results");
    resultsDiv.innerHTML = "";

    if (q === "") return;

    const results = wikiPages.filter(page =>
      page.keys.some(key => key.toLowerCase().includes(q)) ||
      page.name.toLowerCase().includes(q)
    );

    if (results.length === 0) {
      resultsDiv.innerHTML = "<p>No results found.</p>";
      return;
    }

    results.forEach(page => {
      resultsDiv.innerHTML += `
        <div class="result">
          <a href="${page.link}">${page.name}</a>
          <div class="description">${page.description}</div>
        </div>
      `;
    });
  }
</script>

</body>
</html>
